<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Performance Analysis</title>
</head>
<body>
    <h3>Enter the details</h3>
    <form action="" id="form_input">
        <label for="empid">Enter the employee id</label>
        <br>
        <input type="number" id="empid">
        <br>
        Check on the activities done: <br>
        <input type="checkbox" name="productivity" id="productivity"> Target achieved (productivity) [5pts] <br>
        <input type="checkbox" name="quality_output" id="quality_output"> Quality of the output [10pts] <br>
        <input type="checkbox" name="deadlines" id="deadlines"> Adherence to deadlines [20pts] <br>
        <input type="checkbox" name="interaction" id="interaction"> Interaction with the other team members [5pts] <br>
        <input type="checkbox" name="attendance" id="attendance"> Attendance [10pts] <br>
        <button id="enter" onclick="calcTotal()">Enter</button>
        <button id="summary" onclick="avgCalculation()">Show Summary</button>
    </form>
    <div class="result">

    </div>
    <script>
        var empid=[];
        var totalScore=[];
        var count=0;
        totalScore[count]=0;

        var aboveAvg=[];
        var belowAvg=[];
        function calcTotal(){
            empid[count]=document.getElementById('empid');
            var productivity=document.getElementById('productivity');
            var quality_output=document.getElementById('quality_output');
            var deadlines=document.getElementById('deadlines');
            var interaction=document.getElementById('interaction');
            var attendance=document.getElementById('attendance');
            if(productivity==true)
                totalScore[count]+=5;
            if(quality_output==true)
                totalScore[count]+=10;
            if(deadlines==true)
                totalScore[count]+=20;
            if(interaction==true)
                totalScore[count]+=5;
            if(attendance==true)
                totalScore[count]+=10;
            count+=1;
        }
        
        function avgCalculation(){
            //calculating min,max and average
            var avg=0;
            var lowest=Math.min(totalScore);
            var highest=Math.max(totalScore);
            for(let i=0;i<totalScore.length;i++){
                avg+=totalScore[i];
            }
            avg=avg/totalScore.length;

            //above and below avg
            let j=0,k=0;
            for (let i = 0; i < totalScore.length; i++) {
                if(totalScore[i]<avg){
                    belowAvg[j]=empid[i];
                    j+=1;
                }
                else{
                    aboveAvg[k]=empid[i];
                    k+=1;
                }
            }

            //wrting the results..
            var resultContainer=document.getElementsByClassName('result');
            console.log(empid);
            resultContainer.innerHTML='Employee ids: '+empid+'<br>';
            resultContainer.innerHTML+='Respective scores: '+totalScore+'<br>';
            resultContainer.innerHTML+='The lowest score is: '+lowest+'.<br>'+'The highest score is: '+highest+'.<br>'+'The average score is: '+avg+'.<br>'
            resultContainer.innerHTML+='Employee ids who got below average: '+belowAvg+'<br>';
            resultContainer.innerHTML+='Employee ids who got above average: '+aboveAvg+'<br>';
        }
    </script>
</body>
</html>